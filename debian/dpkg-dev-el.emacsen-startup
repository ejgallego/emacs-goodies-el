;; -*-emacs-lisp-*-
;;
;; Emacs startup file for the Debian GNU/Linux dpkg-dev-el package
;;
;; Originally contributed by Nils Naumann <naumann@unileoben.ac.at>
;; Modified by Dirk Eddelbuettel <edd@debian.org>
;; Adapted for dh-make by Jim Van Zandt <jrv@vanzandt.mv.com>

;; The devscripts-el package follows the Debian/GNU Linux 'emacsen' policy and
;; byte-compiles its elisp files for each 'emacs flavor' (emacs19,
;; xemacs19, emacs20, xemacs20...).  The compiled code is then
;; installed in a subdirectory of the respective site-lisp directory.

;; We have to add this to the load-path:
(debian-pkg-add-load-path-item
 (concat "/usr/share/"
	 (symbol-name flavor)
	 "/site-lisp/dpkg-dev-el") )

;; autoloads for debian-bts-control.el
(autoload 'debian-bts-control "debian-bts-control"
  "Contruct a message with initial ACTION command for control@bugs.debian.org.
Contructs a new control command line if called from within the message
being constructed."
  t)

;; autoloads and automode for debian-changelog-mode.el
(autoload 'debian-changelog-mode "debian-changelog-mode"
  "Major mode for editing Debian-style change logs." t)

(autoload 'debian-changelog-web-bug "debian-changelog-mode"
  "Browse the BTS for a bug report number via browse-url." t)
(autoload 'debian-changelog-web-bugs "debian-changelog-mode"
  "Browse the BTS for this package via browse-url." t)
(autoload 'debian-changelog-web-package "debian-changelog-mode"
  "Search Debian web page in ARCHIVE for this package via browse-url." t)
(autoload 'debian-changelog-web-packages "debian-changelog-mode"
  "Search Debian web page for this package via browse-url." t)
(autoload 'debian-changelog-web-this-bug "debian-changelog-mode"
  "Browse the BTS via browse-url for the bug report number under point." t)

(add-to-list 'auto-mode-alist '("/debian/changelog\\'" . debian-changelog-mode))
(add-to-list 'auto-mode-alist '("changelog.Debian" . debian-changelog-mode))
(add-to-list 'auto-mode-alist '("changelog.Debian.gz" . debian-changelog-mode))

;; autoloads and automode for debian-control-mode.el
(autoload 'debian-control-mode "debian-control-mode"
  "Major mode for editing Debian control files (i.e. debian/control)." t)
(add-to-list 'auto-mode-alist '("/debian/control\\'" . debian-control-mode))

;; other useful automode
(add-to-list 'auto-mode-alist '("/debian/[^/]*emacsen-startup\\'" . emacs-lisp-mode))
